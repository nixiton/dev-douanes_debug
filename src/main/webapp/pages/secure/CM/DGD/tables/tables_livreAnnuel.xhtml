

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    >

<div   class="body collapse in table-responsive">


    <p:dataTable   var="d" value="#{gacBean.listAnnee}" 
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}  "
                 paginator="true" rows="10" style="margin-bottom:20px">
        <p:column style=" text-align: center; word-wrap: break-word;">
            <f:facet name="header">Annee</f:facet>
            #{d}
        </p:column>
         <p:column style=" text-align: center; word-wrap: break-word;">
            <f:facet name="header">Détail</f:facet>
             <h:form>
                <h:commandLink  action="#{gacBean.setAnnee1(d)}" target="_blank">
                    <i class="fa fa-file-archive-o"></i>
                </h:commandLink>
            </h:form>
        </p:column>
    </p:dataTable>
    

<!--ui:include src="/pages/secure/CM/tables/dialogs/dialogs_LivreAnnuel.xhtml"></ui:include-->
<h:form>
	<p:dataTable var="c" value="#{suivieditionBean.listOpESForJournal}"
			paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
			paginator="true" rows="10" style="margin-bottom:20px"
			rowStyleClass="#{c['class'].simpleName ne 'OpEntree' and c['class'].simpleName ne 'OpSortie' ? 'ui-helper-hidden' : '' }"
			sortBy="#{c.id}"
			>

			<p:column headerText="ID" style=" text-align: center; word-wrap: break-word;"> #{c.id}</p:column>

			<p:column headerText="Nomenclature" style="width: 10%; text-align: center; word-wrap: break-word;">

				#{c.mat.typematerieladd.nomenclaureParent.nomenclature}
			</p:column>
			<p:column headerText="Espèces des unités" style=" text-align: center; word-wrap: break-word;">
            
            #{c.mat.especeUnite}

        </p:column>

			<p:column headerText="Désignation des objets" style=" text-align: center; word-wrap: break-word;">
			#{c.mat.renseignement} - #{c.mat.reference}
			</p:column>
			<p:column headerText="Prix de l'unité" style=" text-align: center; word-wrap: break-word;">
			#{c.mat.pu}
			</p:column>
			<p:column headerText="Quantité existant au 1er janvier" style=" text-align: center; word-wrap: break-word;">
			#{c.numoperation}
			</p:column>
			<p:column headerText="Mouvement effectués" style=" text-align: center; word-wrap: break-word;">
			#{c.state}
			</p:column>
			<p:column headerText="Numéro du pj" style=" text-align: center; word-wrap: break-word;">
			#{c.numoperation}
			</p:column>
			<p:column headerText="Origine des entrées et des sorties" style=" text-align: center; word-wrap: break-word;">
			#{c.numoperation}
			</p:column>
			<p:column headerText="Entrées" style=" text-align: center; word-wrap: break-word;">
			<p:panel rendered="#{c['class'].simpleName eq 'OpEntree'}">
			#{c.mat.pu}
			</p:panel>
			</p:column>
			<p:column headerText="Sorties" style=" text-align: center; word-wrap: break-word;">
			<p:panel rendered="#{c['class'].simpleName eq 'OpSortie'}">
			#{c.mat.pu}
			</p:panel>
			</p:column>
			<p:column headerText="Reste au 31 Décembre " style=" text-align: center; word-wrap: break-word;">
			x
			</p:column>


		</p:dataTable>


	</h:form>
	
	
<h:form>
		<!--p:dataTable   var="c" value="#{suivieditionBean.listOperationByDirectionByYearByDateAsc}"
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                 paginator="true" rows="10" style="margin-bottom:20px"  
                 rowStyleClass="#{c['class'].simpleName ne 'OpEntree' and c['class'].simpleName ne 'OpSortie' ? 'ui-helper-hidden' : '' }"-->


		<p:dataTable var="c" value="#{suivieditionBean.listESForGrandLivre}"
			paginatorTemplate="{CurrentPageReport}  {PreviousPageLink} {PageLinks} {NextPageLink} {Exporters}"
			paginator="true" style="margin-bottom:20px"
			sortBy="#{c[0].nomenMat.nomenclature}"
			widgetVar="LivreAnnuel"
			id="livreannuel"
			>
			<f:facet name="header">
       			 <span>GRAND LIVRE DES MOUVEMENTS D’ENTREE ET DE SORTIE ANNEE</span> 
       			 <span>
       			 		<h:form >
       			 			<p:outputLabel for="annee_livre_annuel" value="" />
        					<p:calendar id="annee_livre_annuel" value="#{calendarView.date5}" locale="de" navigator="true" pattern="yyyy-MMM-dd" />
     			 			<p:dialog modal="true" resizable="false" header="Values" widgetVar="dlg" showEffect="fold">
        						<p:panelGrid id="display_livre_annuel" columns="3" columnClasses="label,value">
      			 					 <h:outputText value="" />
						            <h:outputText value="#{calendarView.date5}">
						                <f:convertDateTime pattern="yyyy-MMM-dd" />
				                  	</h:outputText>
				                  	
						           
       			 				</p:panelGrid>
    						</p:dialog>
       			 		</h:form>
       			 </span>
    		</f:facet>
			<f:facet name="{Exporters}">
            <h:commandLink>
                <i class="fa fa-table">  </i> Excel
                <p:dataExporter type="xls" target="livreannuel" fileName="grandlivreannuel" />
            </h:commandLink>
 			<span>   </span>
            <h:commandLink>
            	<i class="fa fa-file">  </i> PDF
                <p:dataExporter type="pdf" target="livreannuel" fileName="grandlivreannuel"/>
            </h:commandLink>
        </f:facet>
			<p:columnGroup type="header">
			<p:row>
				<p:column rowspan="3" headerText="Numéro d’ordre de la nomenclature" sortBy="#{c[0].design.nomenMat.nomenclature}" style=" text-align: center; word-wrap: break-word;"/>
                <p:column rowspan="3" headerText="Espèces des unités" style=" text-align: center; word-wrap: break-word;"/>
                <p:column rowspan="3" headerText="Désignation des objets (1)" sortBy="#{c[0].design.typematerieladd.designation}" style=" text-align: center; word-wrap: break-word;"></p:column>
                <p:column rowspan="3" headerText="Prix de l’unité" style=" text-align: center; word-wrap: break-word;"></p:column>
                <p:column colspan="2" headerText="Existant au 1er janvier X" style=" text-align: center; word-wrap: break-word;"></p:column>
                <p:column rowspan="3" headerText="Mouvements  effectués (2)" style=" text-align: center; word-wrap: break-word;"></p:column>
                <p:column colspan="9" headerText="ANNEE X" style=" text-align: center; word-wrap: break-word;"></p:column>
                
			</p:row>
			<p:row>
				<p:column rowspan="2" headerText="Quantité" style=" text-align: center; word-wrap: break-word;"/>
				<p:column rowspan="2" headerText="Valeur" style=" text-align: center; word-wrap: break-word;"/>
				<p:column rowspan="2" headerText="Numéros des pièces justificatives" sortBy="#{c[1].id}" style=" text-align: center; word-wrap: break-word;"/>
				<p:column rowspan="2" headerText="Dates des entrées et des sorties" style=" text-align: center; word-wrap: break-word;"/>
				<p:column rowspan="2" headerText="Origine des entrées et désignation des sorties" style=" text-align: center; word-wrap: break-word;"/>
				<p:column colspan="2" headerText="Entrées" style=" text-align: center; word-wrap: break-word;"/>
				<p:column colspan="2" headerText="Sorties" style=" text-align: center; word-wrap: break-word;"/>
				<p:column colspan="2" headerText="Reste au 31 décembre X " style=" text-align: center; word-wrap: break-word;"/>
			</p:row>
			<p:row>
				<p:column headerText="Quantité" style=" text-align: center; word-wrap: break-word;"/>
				<p:column headerText="Valeur" style=" text-align: center; word-wrap: break-word;"/>
				<p:column headerText="Quantité" style=" text-align: center; word-wrap: break-word;"/>
				<p:column headerText="Valeur" style=" text-align: center; word-wrap: break-word;"/>
				<p:column headerText="Quantité" style=" text-align: center; word-wrap: break-word;"/>
				<p:column headerText="Valeur" style=" text-align: center; word-wrap: break-word;"/>
			</p:row>
				
			</p:columnGroup>
			<p:column headerText="Numéro d’ordre de la nomenclature" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="#{c[0].nomenMat.nomenclature}" />			
			</p:column>
			<p:column headerText="Espèces des unités" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="#{c[0].especeUnite}" />			
			</p:column>
			<p:column headerText="Désignation des objets (1)" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="#{c[0].typematerieladd.designation} - #{c[0].marque.designation} - #{c[0].renseignement}" />			
			</p:column>
			<p:column headerText="Prix de l’unité" style=" text-align: center; word-wrap: break-word;" > 
				<h:outputText value="#{c[0].pu}" />			
			</p:column>
			<p:column headerText="Quantité" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="#{c[7]}" />			
			</p:column>
			<p:column headerText="Valeur" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="#{c[8]}" />			
			</p:column>
			<p:column headerText="Mouvements  effectués" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="Aucune idée" />			
			</p:column>
			<p:column headerText="Numéros des pièces justificatives" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="#{c[1].numoperation}" />			
			</p:column>
			<p:column headerText="Dates des entrées et des sorties" style=" text-align: center; word-wrap: break-word;" > 
				<h:outputText value="#{c[1].date}" />			
			</p:column>
			<p:column headerText="Origine des entrées et désignation des sorties" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="#{c[2]}" />			
			</p:column>
			<p:column headerText="Quantité" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="#{c[3]}" />			
			</p:column>
			<p:column headerText="Valeur" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="#{c[4]}" />			
			</p:column>
			<p:column headerText="Quantité" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="#{c[5]}" />			
			</p:column>
			<p:column headerText="Valeur" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="#{c[6]}" />			
			</p:column>
			<p:column headerText="Quantité" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="#{c[9]}" />			
			</p:column>
			<p:column headerText="Valeur" style=" text-align: center; word-wrap: break-word;"> 
				<h:outputText value="#{c[10]}" />			
			</p:column>
			
			


		</p:dataTable>


	</h:form>



</div>

</html>
